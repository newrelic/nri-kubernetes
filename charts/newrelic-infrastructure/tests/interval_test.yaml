suite: test interval validation
templates:
  - templates/NOTES.txt

tests:
  # Valid intervals - should render successfully
  - it: Accepts minimum valid interval (10s)
    set:
      licenseKey: test
      cluster: test
      common:
        config:
          interval: 10s
    asserts:
      - hasDocuments:
          count: 1
        template: templates/NOTES.txt

  - it: Accepts middle range interval (15s)
    set:
      licenseKey: test
      cluster: test
      common:
        config:
          interval: 15s
    asserts:
      - hasDocuments:
          count: 1
        template: templates/NOTES.txt

  - it: Accepts maximum valid interval (40s)
    set:
      licenseKey: test
      cluster: test
      common:
        config:
          interval: 40s
    asserts:
      - hasDocuments:
          count: 1
        template: templates/NOTES.txt

  # Invalid intervals - should fail validation
  - it: Rejects interval larger than 40s
    set:
      licenseKey: test
      cluster: test
      common:
        config:
          interval: 41s
    asserts:
      - failedTemplate:
          errorPattern: "Intervals larger than 40s are not supported"

  - it: Rejects interval smaller than 10s
    set:
      licenseKey: test
      cluster: test
      common:
        config:
          interval: 1s
    asserts:
      - failedTemplate:
          errorPattern: "Intervals smaller than 10s are not supported"

  - it: Rejects non-seconds intervals
    set:
      licenseKey: test
      cluster: test
      common:
        config:
          interval: 1m
    asserts:
      - failedTemplate:
          errorPattern: "Interval must be between 10s and 40s"
